# Dart 프로그래밍 언어 2025년 1분기 주요 변경사항: 개발자가 반드시 알아야 할 내용

## 서론: 2025년 1분기 Dart 업데이트 개요

이 보고서는 2025년 1월 1일부터 3월 31일까지 릴리즈된 Dart 프로그래밍 언어의 주요 변경사항을 한국인 개발자들이 이해하기 쉽도록 정리하여 제공합니다. 특히, 코드의 동작 방식, 개발 워크플로우, 그리고 프로젝트 유지보수에 직접적인 영향을 미치는 핵심 업데이트에 초점을 맞춰 설명합니다. 최신 Dart SDK 버전으로의 원활한 전환과 안정적인 코드 유지를 위해 개발자들이 반드시 인지하고 적용해야 할 내용들을 다루는 것이 이 보고서의 주된 목적입니다.

2025년 1분기 중 가장 중요한 업데이트는 2025년 2월 12일에 릴리즈된 **Dart 3.7 버전**입니다. 이 버전은 새로운 언어 기능 도입과 함께 `dart format` 도구의 대대적인 개선, 그리고 기존 동작 방식의 중요한 변경사항들을 포함하고 있습니다.

---

## Dart 3.7 릴리즈 (2025년 2월 12일): 핵심 변경사항

Dart 3.7은 언어 자체의 새로운 기능 도입과 핵심 개발 도구의 개선을 통해 개발 경험을 향상시키고 코드 일관성을 강화하는 데 중점을 두었습니다.

### 1. 새로운 언어 기능: 와일드카드 변수 (`_`)

Dart 3.7부터 **와일드카드 변수(`_`)**가 언어에 추가되었습니다. 와일드카드 변수는 지역 변수나 파라미터에 `_` 이름을 부여하여, 해당 변수가 바인딩되지 않음을 명시적으로 나타내는 기능입니다. 즉, 이 변수는 값을 사용하지 않겠다는 의도를 표현하며, 여러 번 선언해도 이름 충돌이 발생하지 않습니다. 이 기능은 주로 패턴 매칭이나 콜백 함수 등에서 특정 값을 무시하거나, 변수 이름이 필요 없지만 문법적으로 선언해야 하는 경우에 유용합니다.

**코드 예시:**

```dart
// 함수 파라미터에서 사용하지 않는 인자를 _로 표시
void processData(int id, String _, Map<String, dynamic> data) {
  print('Processing ID: $id');
  // 'data'만 사용하고 '_'는 무시
}

// 생성자 파라미터에서 사용하지 않는 인자를 _로 표시
class Foo {
  Foo(_, this._, super._, void _()) {}
}
````

와일드카드 변수 도입은 Dart가 **패턴 매칭과 같은 선언적 프로그래밍 패러다임을 더욱 강화**하고 있음을 시사합니다. 이는 단순히 문법적 편의를 넘어, 코드의 표현력을 높이고 불필요한 변수 바인딩을 줄여 개발자가 더 간결하고 의도 명확한 코드를 작성하도록 유도합니다. 예를 들어, Dart 3에서 도입된 `switch` 문에서 특정 필드만 중요하고 나머지는 무시할 때 `_`를 사용하면 패턴이 훨씬 간결해집니다. 사용하지 않는 변수에 이름을 붙이는 인지 부하를 줄이고, 동시에 컴파일러가 해당 변수가 의도적으로 사용되지 않음을 파악하여 잠재적인 버그를 줄이는 데 기여할 수 있습니다.

---

### 2\. dart format 도구 개선 및 변경사항

`dart format`은 Dart 개발 워크플로우에서 코드 스타일 일관성을 유지하는 데 필수적인 도구입니다. Dart 3.7과 함께 이 도구에 대대적인 변화가 있었으며, 이는 개발자의 코드 작성 및 관리 방식에 직접적인 영향을 미칩니다.

Dart 3.7부터 `dart format`은 새로운 **"Tall Style" 포맷팅을 기본으로 적용**합니다. 이 스타일은 인자 목록에 후행 쉼표를 추가할 때와 유사하게 코드를 세로로 길게 분할하여 가독성을 높이는 데 중점을 둡니다. 가장 중요한 변화는 포매터가 이제 코드 구조를 분석하여 자동으로 후행 쉼표를 추가하거나 제거하며, 필요에 따라 코드를 분할할지 여부를 결정한다는 점입니다. 개발자가 수동으로 후행 쉼표를 관리할 필요가 줄어듭니다.

이제 `analysis_options.yaml` 파일을 통해 프로젝트 전반의 **페이지 너비(page\_width)를 설정**할 수 있습니다. 포매터는 파일이 있는 디렉토리 및 상위 디렉토리에서 `analysis_options.yaml`을 찾아 `formatter: page_width: 123`과 같은 설정을 적용합니다. 프로젝트 단위의 페이지 너비 설정 기능 도입은 Dart 생태계가 코드 일관성과 팀 협업의 중요성을 더욱 강조하고 있음을 나타냅니다. 이는 개발자 개개인의 선호도를 넘어, 프로젝트 전체의 코드 스타일 가이드라인을 강제하고 자동화하려는 명확한 의지입니다.

새로운 "Tall Style" 포맷팅이 적용된 코드에서 특정 코드 영역을 자동 포맷팅에서 제외할 수 있는 특별한 주석 ( `// dart format off` 및 `// dart format on`)이 도입되었습니다. 이는 주로 수동으로 레이아웃을 지정해야 더 가독성이 좋은, 예를 들어 대규모 숫자 목록과 같은 고도로 구조화된 데이터에 유용합니다. `dart format` 명령에서 `--fix` 옵션이 제거되었습니다. 이 옵션은 과거에 일부 자동 수정 기능을 제공했지만, 더 강력하고 포괄적인 `dart fix` 명령어가 활성화되면서 중복을 피하기 위해 제거되었습니다. 이제 자동화된 코드 수정은 `dart fix` 명령어를 통해 수행해야 합니다.

다음 표는 Dart 3.7 `dart format`의 주요 변경사항을 요약하고, 각 변경사항이 개발자에게 미치는 영향과 필요한 조치를 명확히 제시합니다.

Dart 3.7 dart format 주요 변경사항

| 변경사항                 | 내용                                                                      | 개발자 영향 및 조치                                                                                                                                              |
| :----------------------- | :------------------------------------------------------------------------ | :------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 새로운 포맷팅 스타일     | "Tall Style" 도입. 포매터가 자동으로 후행 쉼표를 추가/제거하고 코드 분할 여부 결정. | 코드 포맷팅 방식 변화. 기존 코드의 포맷팅이 달라질 수 있음. 수동 후행 쉼표 관리 불필요.                                                                         |
| 프로젝트/파일별 페이지 너비 설정 | `analysis_options.yaml`에서 `formatter: page_width` 설정 가능. 파일 내 `// dart format width=N` 주석으로 개별 파일 오버라이드 가능. | 팀/프로젝트 단위 코드 스타일 일관성 강화. `analysis_options.yaml`을 통한 중앙 관리 권장.                                                                         |
| 특정 코드 영역 포맷팅 제외 | `// dart format off`와 `// dart format on` 주석으로 특정 코드 블록의 자동 포맷팅 비활성화. | 특정 데이터 구조나 수동 레이아웃이 필요한 코드의 포맷팅 제어 가능.                                                                                              |
| `--fix` 옵션 제거        | `dart format --fix` 명령 제거.                                            | 코드 자동 수정 기능은 이제 `dart fix` 명령어를 통해 사용해야 함. `dart fix`가 더 많은 기능을 제공하며 활발히 유지보수됨.                                       |

---

### 3\. 타입 시스템 개선: 추론 경계 (inference using bounds)

Dart 3.7에서는 새로운 타입 시스템 알고리즘인 \*\*"추론 경계(inference using bounds)"\*\*가 도입되었습니다. 이 변경은 주로 컴파일러 내부의 타입 추론 로직을 개선하는 것으로, 대부분의 경우 개발자가 직접적으로 코드를 수정할 필요는 없습니다. 하지만 특정 복잡한 제네릭 타입 추론 시나리오에서 기존보다 더 정확하거나 예상치 못한 타입 추론 결과를 얻을 수 있습니다.

타입 시스템의 근본적인 개선은 Dart 언어의 견고성과 안정성을 장기적으로 강화하려는 노력의 일환입니다. 이는 단순히 버그 픽스를 넘어, 언어의 기반을 더욱 단단히 하여 향후 더 복잡한 기능 추가나 최적화를 위한 토대를 마련합니다. 언어의 타입 시스템이 강력하고 예측 가능하다는 것은 개발자들이 해당 언어를 신뢰하고 더 복잡한 애플리케이션을 구축하는 데 주저함이 없게 만들며, 이는 Dart 생태계의 지속적인 성장과 확장에 필수적인 요소입니다.

---

## 개발자가 반드시 인지해야 할 주요 동작 변경 및 Deprecation

Dart 3.7 릴리즈와 함께 개발자가 기존 코드에 영향을 미칠 수 있는 중요한 동작 변경 및 공식적인 Deprecation 사항들이 발표되었습니다.

### 1\. Map 패턴 비존재 키 접근 시 StateError 발생

Map 패턴을 사용하여 Map을 구조 분해(destructuring)할 때, **존재하지 않는 키에 접근하면 이제 `StateError`가 발생**합니다. 이전에는 이러한 경우에 대한 명확한 경고나 오류가 없었을 수 있으나, 이제는 런타임에 명시적인 오류를 발생시켜 개발자가 문제를 즉시 인지하고 수정하도록 강제합니다. Map 패턴을 사용하는 코드에서 Map에 해당 키가 항상 존재하는지 확인해야 합니다.

**코드 예시:**

```dart
// 변경 전 (StateError 발생 가능성)
void processUser(Map<String, dynamic> user) {
  if (user case {'name': String name, 'email': String email}) {
    print('User: $name, Email: $email');
  }
}
// user 맵에 'email' 키가 없으면 StateError 발생

// 변경 후 (안전한 접근)
void processUserSafe(Map<String, dynamic> user) {
  if (user case {'name': String name, 'email': String? email}) {
    // email이 없을 경우 null이 됨
    print('User: $name, Email: ${email?? 'N/A'}');
  } else if (user case {'name': String name}) {
    // email 키가 없는 경우를 처리
    print('User: $name (Email not provided)');
  } else {
    print('Invalid user data');
  }
}
```

Map 패턴에서 비존재 키 접근 시 `StateError` 발생은 Dart 언어의 **타입 안전성과 런타임 예측 가능성을 강화**하려는 명확한 의지를 보여줍니다. 이는 잠재적인 런타임 버그를 조기에 발견하고 개발자가 더 견고한 코드를 작성하도록 유도합니다. 이 변경은 "조기에 실패(fail fast)" 원칙을 따르며, 잘못된 가정으로 인해 발생할 수 있는 잠재적인 데이터 접근 오류를 런타임에 즉시 알려 개발자가 이를 수정하도록 강제합니다.

---

### 2\. dart:html 라이브러리 공식 Deprecation 및 제거

**`dart:html` 라이브러리 페이지가 공식적으로 제거**되었습니다. 이는 `dart:html`이 더 이상 웹 개발을 위한 권장 라이브러리가 아님을 명확히 합니다. 기존에 `dart:html`을 사용하여 웹 애플리케이션을 개발하던 프로젝트는 이 변경에 큰 영향을 받습니다. 이 라이브러리는 주로 Dart 웹 앱이 Flutter 없이 직접 DOM을 조작할 때 사용되었습니다.

`dart:html`의 대안으로 **`package:web`이 적극 권장**됩니다. `package:web`은 웹 표준 API(Web Standard APIs)에 대한 더 현대적이고 타입 안전한 바인딩을 제공합니다. HTTP 요청의 경우, `dart:html` 또는 `dart:io` 대신 `package:http` 사용이 권장됩니다. `dart:html`의 공식적인 Deprecation 및 제거는 Dart 웹 개발 전략의 중대한 변화를 의미합니다. 이는 Flutter for Web을 중심으로 웹 생태계를 통합하고, 웹 표준 API(`package:web`)를 통해 더 넓은 웹 개발 커뮤니티와의 호환성을 강화하려는 전략적 움직임입니다.

---

### 3\. 실험적 매크로 기능 개발 일시 중단

**실험적 매크로(experimental macros) 기능 페이지가 제거**되었습니다. 이는 Dart 팀이 이 기능에 대한 작업을 "무기한 일시 중단"했기 때문입니다. 매크로는 Dart 코드 생성 및 변환을 위한 강력한 메타프로그래밍 기능으로 기대를 모았으나, 복잡성과 우선순위 재조정으로 인해 개발이 중단되었습니다.

매크로 기능의 개발이 재개될지는 불확실합니다. 개발자들은 현재로서는 이 기능을 기반으로 한 아키텍처 설계를 피하고, 기존의 코드 생성(`build_runner`) 또는 리플렉션(reflection) 대안을 계속 사용해야 합니다. 실험적 매크로 기능 개발의 일시 중단은 언어 개발의 실용성과 우선순위 관리의 중요성을 보여줍니다. 이는 언어의 핵심 가치를 강화하고, 당장 개발자들에게 더 큰 영향을 미칠 수 있는 부분에 집중하려는 실용적인 접근 방식입니다.

---

### 4\. 레거시 JS Interop 라이브러리 Deprecation 명시

**레거시 JS interop 라이브러리에 대한 참조가 "deprecated"로 명시적으로 변경**되었습니다. 이는 `dart:html` Deprecation과 유사하게, 이전 방식의 JavaScript 상호 운용 방식이 더 이상 권장되지 않음을 의미합니다. 최신 Dart 버전에서는 **`package:js`를 기반으로 하는 새로운 JavaScript Interop 메커니즘을 사용**해야 합니다.

이 새로운 방식은 더 타입 안전하고, 효율적이며, 현대적인 JavaScript 생태계와의 통합을 용이하게 합니다. 레거시 JS Interop의 Deprecation은 Dart가 JavaScript 생태계와의 상호 운용성을 더욱 현대적이고 타입 안전한 방식으로 재정의하고 있음을 나타냅니다. 이는 웹 표준 지향성과 더불어, JS와의 원활한 연동을 통해 Dart의 활용 범위를 넓히려는 전략의 일환입니다.

---

## 기타 중요한 업데이트 및 문서 변경사항

Dart 3.7 릴리즈와 함께 개발자 경험을 간접적으로 개선하거나, 중요한 정보를 제공하는 문서 및 도구 관련 업데이트도 있었습니다.

### 1\. 공유 분석 옵션 기능 도입

새로운 **"공유 분석 옵션(shared analysis options)" 기능에 대한 문서**가 추가되었습니다. 이는 여러 Dart 프로젝트나 패키지에서 공통된 분석 규칙(`analysis_options.yaml`)을 공유하고 관리하는 것을 용이하게 합니다.

공유 분석 옵션 기능은 대규모 코드베이스나 모노레포(monorepo) 환경에서 코드 품질과 일관성을 유지하는 데 필수적인 인프라 개선입니다. 이는 개발팀의 생산성과 코드베이스의 장기적인 유지보수성을 향상시킵니다. 이 기능은 Dart가 단순히 소규모 프로젝트를 넘어, 복잡하고 대규모의 엔터프라이즈급 애플리케이션 개발에도 적합한 언어 및 도구 생태계를 구축하고 있음을 보여줍니다.

---

### 2\. Effective Dart 라인 길이 가이드라인 변경

`dart format`의 새로운 포매터 스타일(Tall Style)로 인해 **Effective Dart의 라인 길이 가이드라인이 변경**되었습니다. 이는 코드 포맷팅 도구의 변화가 공식적인 스타일 가이드라인에도 영향을 미쳤음을 보여주며, 개발자는 새로운 권장 사항에 따라 코드를 작성해야 합니다.

---

### 3\. 작업 공간의 "Stray Files" 개념 도입

Workspaces 페이지에 **"Stray Files" 개념에 대한 세부 정보가 도입**되었습니다. 이는 Dart 워크스페이스 내에서 관리되지 않는 파일들이 어떻게 처리되는지에 대한 이해를 돕습니다.

---

### 4\. Linter 규칙 페이지 개편 및 활용법

**Linter 규칙 페이지가 새로운 카드 기반 디자인, 검색 기능, 개별 린트 페이지에 대한 색상 코드 아이콘 등으로 대대적으로 개편**되었습니다. 린터 규칙 문서의 대대적인 개편은 개발자가 코드 품질을 향상시키는 데 필요한 정보를 더 쉽게 찾고 활용할 수 있도록 지원하려는 명확한 의지를 보여줍니다. 이는 도구의 발전뿐만 아니라, 문서화의 중요성을 강조합니다.

린터는 코드 품질과 일관성을 유지하는 데 매우 중요한 도구입니다. 린트 규칙 문서가 개선되면 개발자는 특정 규칙의 의미를 더 빠르게 파악하고, 자신의 코드에 어떤 규칙을 적용할지 효율적으로 결정할 수 있습니다. 이는 코드 리뷰 시간을 단축하고, 잠재적인 버그를 줄이며, 전반적인 코드 품질을 향상시키는 데 직접적으로 기여합니다.

---

## 결론 및 권고사항

### 1\. 2025년 1분기 업데이트의 핵심 요약

2025년 1분기 Dart 업데이트의 핵심은 Dart 3.7 릴리즈로, 언어의 표현력을 높이는 새로운 기능(`_` 와일드카드 변수)과 함께 `dart format` 도구의 대대적인 개선을 통해 코드 스타일 일관성을 강화했습니다. 또한, `dart:html` 및 레거시 JS Interop의 Deprecation은 웹 개발 전략의 전환을 명확히 했으며, Map 패턴의 `StateError` 발생은 런타임 안정성을 위한 중요한 변경입니다. 매크로 개발의 일시 중단은 언어 개발의 우선순위 조정과 실용적인 접근 방식을 보여줍니다.

### 2\. 개발자를 위한 즉각적인 권고사항

* **SDK 업데이트**: 가장 먼저 Dart SDK를 최신 3.7 버전으로 업데이트하여 새로운 기능과 개선사항을 활용해야 합니다.
* **코드 검토 및 마이그레이션**:
  * `dart format` 적용: 업데이트 후 `dart format`을 실행하여 새로운 "Tall Style" 포맷팅을 적용하고, `analysis_options.yaml`을 통해 프로젝트의 페이지 너비를 설정해야 합니다. `--fix` 대신 `dart fix`를 사용하여 자동 수정 기능을 활용해야 합니다.
  * Map 패턴 검토: Map 패턴을 사용하는 모든 코드에서 존재하지 않는 키에 접근하는 경우가 없는지 확인하고, 필요한 경우 방어적인 코딩(null 체크 또는 다른 패턴 분기)을 적용하여 `StateError` 발생을 방지해야 합니다.
  * `dart:html` 의존성 제거: `dart:html`을 사용하는 웹 프로젝트는 `package:web`으로의 마이그레이션을 계획하고 실행해야 합니다. HTTP 요청은 `package:http`를 사용하도록 전환해야 합니다.
  * JS Interop 전환: 레거시 JS Interop을 사용하고 있다면, `package:js` 기반의 새로운 Interop 방식으로 전환을 고려해야 합니다.
* **문서 활용**: 개편된 Linter 규칙 페이지 및 기타 공식 문서를 적극 활용하여 최신 가이드라인을 숙지하고 코드 품질을 향상시켜야 합니다.

### 3\. 지속적인 정보 습득의 중요성 강조

Dart 생태계는 빠르게 발전하고 있습니다. 개발자들은 Dart 공식 블로그, GitHub 저장소의 CHANGELOG, 그리고 `dart.dev` 웹사이트의 "What's New" 섹션을 주기적으로 확인하여 최신 업데이트와 권장 사항을 지속적으로 습득하는 것이 중요합니다. 이러한 노력은 코드의 안정성을 유지하고, 최신 기능을 활용하여 개발 생산성을 높이는 데 필수적입니다.
